<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trie interface and implementation."><title>trie_db - Rust</title><script> if (window.location.protocol !== "file:") document.write(`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2">`)</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="trie_db" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0 (9b00956e5 2024-04-29)" data-channel="1.78.0" data-search-js="search-42d8da7a6b9792c2.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-4c98445ec4002617.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-12cf3b4f4f9dc36d.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../trie_db/index.html">trie_db</a><span class="version">0.29.0</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../trie_db/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">trie_db</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/trie_db/lib.rs.html#14-791">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trie interface and implementation.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.Recorder"><code>pub use self::recorder::<a class="struct" href="recorder/struct.Recorder.html" title="struct trie_db::recorder::Recorder">Recorder</a>;</code></div></li><li><div class="item-name" id="reexport.SecTrieDB"><code>pub use self::sectriedb::<a class="struct" href="sectriedb/struct.SecTrieDB.html" title="struct trie_db::sectriedb::SecTrieDB">SecTrieDB</a>;</code></div></li><li><div class="item-name" id="reexport.SecTrieDBMut"><code>pub use self::sectriedbmut::<a class="struct" href="sectriedbmut/struct.SecTrieDBMut.html" title="struct trie_db::sectriedbmut::SecTrieDBMut">SecTrieDBMut</a>;</code></div></li><li><div class="item-name" id="reexport.TrieDB"><code>pub use self::triedb::<a class="struct" href="triedb/struct.TrieDB.html" title="struct trie_db::triedb::TrieDB">TrieDB</a>;</code></div></li><li><div class="item-name" id="reexport.TrieDBBuilder"><code>pub use self::triedb::<a class="struct" href="triedb/struct.TrieDBBuilder.html" title="struct trie_db::triedb::TrieDBBuilder">TrieDBBuilder</a>;</code></div></li><li><div class="item-name" id="reexport.TrieDBIterator"><code>pub use self::triedb::<a class="struct" href="triedb/struct.TrieDBIterator.html" title="struct trie_db::triedb::TrieDBIterator">TrieDBIterator</a>;</code></div></li><li><div class="item-name" id="reexport.TrieDBKeyIterator"><code>pub use self::triedb::<a class="struct" href="triedb/struct.TrieDBKeyIterator.html" title="struct trie_db::triedb::TrieDBKeyIterator">TrieDBKeyIterator</a>;</code></div></li><li><div class="item-name" id="reexport.ChildReference"><code>pub use self::triedbmut::<a class="enum" href="triedbmut/enum.ChildReference.html" title="enum trie_db::triedbmut::ChildReference">ChildReference</a>;</code></div></li><li><div class="item-name" id="reexport.TrieDBMut"><code>pub use self::triedbmut::<a class="struct" href="triedbmut/struct.TrieDBMut.html" title="struct trie_db::triedbmut::TrieDBMut">TrieDBMut</a>;</code></div></li><li><div class="item-name" id="reexport.TrieDBMutBuilder"><code>pub use self::triedbmut::<a class="struct" href="triedbmut/struct.TrieDBMutBuilder.html" title="struct trie_db::triedbmut::TrieDBMutBuilder">TrieDBMutBuilder</a>;</code></div></li><li><div class="item-name" id="reexport.Value"><code>pub use self::triedbmut::<a class="enum" href="triedbmut/enum.Value.html" title="enum trie_db::triedbmut::Value">Value</a>;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="nibble_ops/index.html" title="mod trie_db::nibble_ops">nibble_ops</a></div><div class="desc docblock-short">Utility methods to work on radix 16 nibble.</div></li><li><div class="item-name"><a class="mod" href="node/index.html" title="mod trie_db::node">node</a></div></li><li><div class="item-name"><a class="mod" href="proof/index.html" title="mod trie_db::proof">proof</a></div><div class="desc docblock-short">Generation and verification of compact proofs for Merkle-Patricia tries.</div></li><li><div class="item-name"><a class="mod" href="recorder/index.html" title="mod trie_db::recorder">recorder</a></div><div class="desc docblock-short">Trie query recorder.</div></li><li><div class="item-name"><a class="mod" href="sectriedb/index.html" title="mod trie_db::sectriedb">sectriedb</a></div></li><li><div class="item-name"><a class="mod" href="sectriedbmut/index.html" title="mod trie_db::sectriedbmut">sectriedbmut</a></div></li><li><div class="item-name"><a class="mod" href="triedb/index.html" title="mod trie_db::triedb">triedb</a></div></li><li><div class="item-name"><a class="mod" href="triedbmut/index.html" title="mod trie_db::triedbmut">triedbmut</a></div><div class="desc docblock-short">In-memory trie representation.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Bytes.html" title="struct trie_db::Bytes">Bytes</a></div><div class="desc docblock-short">A container for storing bytes.</div></li><li><div class="item-name"><a class="struct" href="struct.BytesWeak.html" title="struct trie_db::BytesWeak">BytesWeak</a></div><div class="desc docblock-short">A weak reference of <a href="struct.Bytes.html" title="struct trie_db::Bytes"><code>Bytes</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.FatDB.html" title="struct trie_db::FatDB">FatDB</a></div><div class="desc docblock-short">A <code>Trie</code> implementation which hashes keys and uses a generic <code>HashDB</code> backing database.
Additionaly it stores inserted hash-key mappings for later retrieval.</div></li><li><div class="item-name"><a class="struct" href="struct.FatDBIterator.html" title="struct trie_db::FatDBIterator">FatDBIterator</a></div><div class="desc docblock-short">Iterator over inserted pairs of key values.</div></li><li><div class="item-name"><a class="struct" href="struct.FatDBMut.html" title="struct trie_db::FatDBMut">FatDBMut</a></div><div class="desc docblock-short">A mutable <code>Trie</code> implementation which hashes keys and uses a generic <code>HashDB</code> backing database.
Additionaly it stores inserted hash-key mappings for later retrieval.</div></li><li><div class="item-name"><a class="struct" href="struct.Lookup.html" title="struct trie_db::Lookup">Lookup</a></div><div class="desc docblock-short">Trie lookup helper object.</div></li><li><div class="item-name"><a class="struct" href="struct.NibbleSlice.html" title="struct trie_db::NibbleSlice">NibbleSlice</a></div><div class="desc docblock-short">Nibble-orientated view onto byte-slice, allowing nibble-precision offsets.</div></li><li><div class="item-name"><a class="struct" href="struct.NibbleVec.html" title="struct trie_db::NibbleVec">NibbleVec</a></div><div class="desc docblock-short">Owning, nibble-oriented byte vector. Counterpart to <code>NibbleSlice</code>.
Nibbles are always left aligned, so making a <code>NibbleVec</code> from
a <code>NibbleSlice</code> can get costy.</div></li><li><div class="item-name"><a class="struct" href="struct.TrieBuilder.html" title="struct trie_db::TrieBuilder">TrieBuilder</a></div><div class="desc docblock-short">Get trie root and insert visited node in a hash_db.
As for all <code>ProcessEncodedNode</code> implementation, it
is only for full trie parsing (not existing trie).</div></li><li><div class="item-name"><a class="struct" href="struct.TrieDBNodeDoubleEndedIterator.html" title="struct trie_db::TrieDBNodeDoubleEndedIterator">TrieDBNodeDoubleEndedIterator</a></div><div class="desc docblock-short">Double ended iterator for going through all nodes in the trie in pre-order traversal order.</div></li><li><div class="item-name"><a class="struct" href="struct.TrieDBNodeIterator.html" title="struct trie_db::TrieDBNodeIterator">TrieDBNodeIterator</a></div><div class="desc docblock-short">Iterator for going through all nodes in the trie in pre-order traversal order.</div></li><li><div class="item-name"><a class="struct" href="struct.TrieDBRawIterator.html" title="struct trie_db::TrieDBRawIterator">TrieDBRawIterator</a></div><div class="desc docblock-short">Iterator for going through all nodes in the trie in pre-order traversal order.</div></li><li><div class="item-name"><a class="struct" href="struct.TrieFactory.html" title="struct trie_db::TrieFactory">TrieFactory</a></div><div class="desc docblock-short">Trie factory.</div></li><li><div class="item-name"><a class="struct" href="struct.TrieRoot.html" title="struct trie_db::TrieRoot">TrieRoot</a></div><div class="desc docblock-short">Calculate the trie root of the trie.</div></li><li><div class="item-name"><a class="struct" href="struct.TrieRootPrint.html" title="struct trie_db::TrieRootPrint">TrieRootPrint</a></div><div class="desc docblock-short">Calculate the trie root of the trie.
Print a debug trace.</div></li><li><div class="item-name"><a class="struct" href="struct.TrieRootUnhashed.html" title="struct trie_db::TrieRootUnhashed">TrieRootUnhashed</a></div><div class="desc docblock-short">Get the trie root node encoding.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.CachedValue.html" title="enum trie_db::CachedValue">CachedValue</a></div><div class="desc docblock-short">A value as cached by the <a href="trait.TrieCache.html" title="trait trie_db::TrieCache"><code>TrieCache</code></a>.</div></li><li><div class="item-name"><a class="enum" href="enum.MerkleValue.html" title="enum trie_db::MerkleValue">MerkleValue</a></div><div class="desc docblock-short">Either the <code>hash</code> or <code>value</code> of a node depending on its size.</div></li><li><div class="item-name"><a class="enum" href="enum.RecordedForKey.html" title="enum trie_db::RecordedForKey">RecordedForKey</a></div><div class="desc docblock-short">Result of <a href="trait.TrieRecorder.html#tymethod.trie_nodes_recorded_for_key" title="method trie_db::TrieRecorder::trie_nodes_recorded_for_key"><code>TrieRecorder::trie_nodes_recorded_for_key</code></a>.</div></li><li><div class="item-name"><a class="enum" href="enum.TrieAccess.html" title="enum trie_db::TrieAccess">TrieAccess</a></div><div class="desc docblock-short">Used to report the trie access to the <a href="trait.TrieRecorder.html" title="trait trie_db::TrieRecorder"><code>TrieRecorder</code></a>.</div></li><li><div class="item-name"><a class="enum" href="enum.TrieError.html" title="enum trie_db::TrieError">TrieError</a></div><div class="desc docblock-short">Trie Errors.</div></li><li><div class="item-name"><a class="enum" href="enum.TrieKinds.html" title="enum trie_db::TrieKinds">TrieKinds</a></div><div class="desc docblock-short">All different kinds of tries.
This is used to prevent a heap allocation for every created trie.</div></li><li><div class="item-name"><a class="enum" href="enum.TrieSpec.html" title="enum trie_db::TrieSpec">TrieSpec</a></div><div class="desc docblock-short">Trie types</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.HashDB.html" title="trait trie_db::HashDB">HashDB</a></div><div class="desc docblock-short">Trait modelling datastore keyed by a hash defined by the <code>Hasher</code>.</div></li><li><div class="item-name"><a class="trait" href="trait.HashDBRef.html" title="trait trie_db::HashDBRef">HashDBRef</a></div><div class="desc docblock-short">Trait for immutable reference of HashDB.</div></li><li><div class="item-name"><a class="trait" href="trait.Hasher.html" title="trait trie_db::Hasher">Hasher</a></div><div class="desc docblock-short">Trait describing an object that can hash a slice of bytes. Used to abstract
other types over the hashing algorithm. Defines a single <code>hash</code> method and an
<code>Out</code> associated type with the necessary bounds.</div></li><li><div class="item-name"><a class="trait" href="trait.NodeCodec.html" title="trait trie_db::NodeCodec">NodeCodec</a></div><div class="desc docblock-short">Trait for trie node encoding/decoding.
Uses a type parameter to allow registering
positions without colling decode plan.</div></li><li><div class="item-name"><a class="trait" href="trait.ProcessEncodedNode.html" title="trait trie_db::ProcessEncodedNode">ProcessEncodedNode</a></div><div class="desc docblock-short">Visitor trait to implement when using <code>trie_visit</code>.</div></li><li><div class="item-name"><a class="trait" href="trait.Query.html" title="trait trie_db::Query">Query</a></div><div class="desc docblock-short">Description of what kind of query will be made to the trie.</div></li><li><div class="item-name"><a class="trait" href="trait.Trie.html" title="trait trie_db::Trie">Trie</a></div><div class="desc docblock-short">A key-value datastore implemented as a database-backed modified Merkle tree.</div></li><li><div class="item-name"><a class="trait" href="trait.TrieCache.html" title="trait trie_db::TrieCache">TrieCache</a></div><div class="desc docblock-short">A cache that can be used to speed-up certain operations when accessing the trie.</div></li><li><div class="item-name"><a class="trait" href="trait.TrieConfiguration.html" title="trait trie_db::TrieConfiguration">TrieConfiguration</a></div><div class="desc docblock-short">This trait associates a trie definition with preferred methods.
It also contains own default implementations and can be
used to allow switching implementation.</div></li><li><div class="item-name"><a class="trait" href="trait.TrieDoubleEndedIterator.html" title="trait trie_db::TrieDoubleEndedIterator">TrieDoubleEndedIterator</a></div><div class="desc docblock-short">Extending the <code>TrieIterator</code> trait with <code>DoubleEndedIterator</code> trait.</div></li><li><div class="item-name"><a class="trait" href="trait.TrieIterator.html" title="trait trie_db::TrieIterator">TrieIterator</a></div><div class="desc docblock-short">A trie iterator that also supports random access (<code>seek()</code>).</div></li><li><div class="item-name"><a class="trait" href="trait.TrieLayout.html" title="trait trie_db::TrieLayout">TrieLayout</a></div><div class="desc docblock-short">Trait with definition of trie layout.
Contains all associated trait needed for
a trie definition or implementation.</div></li><li><div class="item-name"><a class="trait" href="trait.TrieMut.html" title="trait trie_db::TrieMut">TrieMut</a></div><div class="desc docblock-short">A key-value datastore implemented as a database-backed modified Merkle tree.</div></li><li><div class="item-name"><a class="trait" href="trait.TrieRecorder.html" title="trait trie_db::TrieRecorder">TrieRecorder</a></div><div class="desc docblock-short">A trie recorder that can be used to record all kind of <a href="enum.TrieAccess.html" title="enum trie_db::TrieAccess"><code>TrieAccess</code></a>’s.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.decode_compact.html" title="fn trie_db::decode_compact">decode_compact</a></div><div class="desc docblock-short">Reconstructs a partial trie DB from a compact representation. The encoding is a vector of
mutated trie nodes with those child references omitted. The decode function reads them in order
from the given slice, reconstructing the full nodes and inserting them into the given <code>HashDB</code>.
It stops after fully constructing one partial trie and returns the root hash and the number of
nodes read. If an error occurs during decoding, there are no guarantees about which entries
were or were not added to the DB.</div></li><li><div class="item-name"><a class="fn" href="fn.decode_compact_from_iter.html" title="fn trie_db::decode_compact_from_iter">decode_compact_from_iter</a></div><div class="desc docblock-short">Variant of ‘decode_compact’ that accept an iterator of encoded nodes as input.</div></li><li><div class="item-name"><a class="fn" href="fn.encode_compact.html" title="fn trie_db::encode_compact">encode_compact</a></div><div class="desc docblock-short">Generates a compact representation of the partial trie stored in the given DB. The encoding
is a vector of mutated trie nodes with those child references omitted. The mutated trie nodes
are listed in pre-order traversal order so that the full nodes can be efficiently
reconstructed recursively.</div></li><li><div class="item-name"><a class="fn" href="fn.trie_visit.html" title="fn trie_db::trie_visit">trie_visit</a></div><div class="desc docblock-short">Function visiting trie from key value inputs with a <code>ProccessEncodedNode</code> callback.
This is the main entry point of this module.
Calls to each node occurs ordered by byte key value but with longest keys first (from node to
branch to root), this differs from standard byte array ordering a bit.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.CError.html" title="type trie_db::CError">CError</a></div><div class="desc docblock-short">Alias accessor to <code>NodeCodec</code> associated <code>Error</code> type from a <code>TrieLayout</code>.</div></li><li><div class="item-name"><a class="type" href="type.DBValue.html" title="type trie_db::DBValue">DBValue</a></div><div class="desc docblock-short">Database value</div></li><li><div class="item-name"><a class="type" href="type.Partial.html" title="type trie_db::Partial">Partial</a></div><div class="desc docblock-short">Representation of a nible slice (right aligned).
It contains a right aligned padded first byte (first pair element is the number of nibbles
(0 to max nb nibble - 1), second pair element is the padded nibble), and a slice over
the remaining bytes.</div></li><li><div class="item-name"><a class="type" href="type.Result.html" title="type trie_db::Result">Result</a></div><div class="desc docblock-short">Trie result type.
Boxed to avoid copying around extra space for the <code>Hasher</code>s <code>Out</code> on successful queries.</div></li><li><div class="item-name"><a class="type" href="type.TrieHash.html" title="type trie_db::TrieHash">TrieHash</a></div><div class="desc docblock-short">Alias accessor to hasher hash output type from a <code>TrieLayout</code>.</div></li><li><div class="item-name"><a class="type" href="type.TrieItem.html" title="type trie_db::TrieItem">TrieItem</a></div><div class="desc docblock-short">Trie-Item type used for iterators over trie data.</div></li><li><div class="item-name"><a class="type" href="type.TrieKeyItem.html" title="type trie_db::TrieKeyItem">TrieKeyItem</a></div><div class="desc docblock-short">Trie-Item type used for iterators over trie key only.</div></li></ul></section></div></main></body></html>