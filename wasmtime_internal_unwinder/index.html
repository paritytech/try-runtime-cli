<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Wasmtime unwinder."><title>wasmtime_internal_unwinder - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="wasmtime_internal_unwinder" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0 (ded5c06cf 2025-12-08)" data-channel="1.92.0" data-search-js="search-d69d8955.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Crate wasmtime_internal_unwinder</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../wasmtime_internal_unwinder/index.html">wasmtime_<wbr>internal_<wbr>unwinder</a><span class="version">35.0.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#wasmtime-unwinder" title="`wasmtime-unwinder`"><code>wasmtime-unwinder</code></a></li></ul><h3><a href="#structs">Crate Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>wasmtime_<wbr>internal_<wbr>unwinder</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/wasmtime_internal_unwinder/lib.rs.html#1-27">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Wasmtime unwinder.</p>
<blockquote>
<p><strong>⚠️ Warning ⚠️</strong>: this crate is an internal-only crate for the Wasmtime
project and is not intended for general use. APIs are not strictly
reviewed for safety and usage outside of Wasmtime may have bugs. If
you’re interested in using this feel free to file an issue on the
Wasmtime repository to start a discussion about doing so, but otherwise
be aware that your usage of this crate is not supported.</p>
</blockquote>
<h2 id="wasmtime-unwinder"><a class="doc-anchor" href="#wasmtime-unwinder">§</a><code>wasmtime-unwinder</code></h2>
<p>This crate implements an unwind info format, stack walking, and
unwinding for Wasmtime. It includes logic that:</p>
<ul>
<li>Can walk the Wasmstack and visit each frame;</li>
<li>Can find exception handlers using an efficient format serialized
from Cranelift compilation metadata that can be mapped and used
in-place from disk;</li>
<li>Provides a “throw” helper that, when called from host code that has
been invoked from Wasmcode, can find a handler; and a “resume” stub
that can be invoked to transfer control to the corresponding
handler.</li>
</ul>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.ExceptionTable.html" title="struct wasmtime_internal_unwinder::ExceptionTable">Exception<wbr>Table</a></dt><dd>ExceptionTable deserialized from a serialized slice.</dd><dt><a class="struct" href="struct.ExceptionTableBuilder.html" title="struct wasmtime_internal_unwinder::ExceptionTableBuilder">Exception<wbr>Table<wbr>Builder</a></dt><dd>Collector struct for exception handlers per call site.</dd><dt><a class="struct" href="struct.Frame.html" title="struct wasmtime_internal_unwinder::Frame">Frame</a></dt><dd>A stack frame within a Wasm stack trace.</dd><dt><a class="struct" href="struct.UnwindHost.html" title="struct wasmtime_internal_unwinder::UnwindHost">Unwind<wbr>Host</a></dt><dd>If we have the above host-specific implementations, we can
implement <code>Unwind</code>.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.ThrowAction.html" title="enum wasmtime_internal_unwinder::ThrowAction">Throw<wbr>Action</a></dt><dd>Throw action to perform.</dd></dl><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><dl class="item-table"><dt><a class="constant" href="constant.NEXT_OLDER_FP_FROM_FP_OFFSET.html" title="constant wasmtime_internal_unwinder::NEXT_OLDER_FP_FROM_FP_OFFSET">NEXT_<wbr>OLDER_<wbr>FP_<wbr>FROM_<wbr>FP_<wbr>OFFSET</a></dt><dd>The offset of the saved old-FP value in a frame, from the
location pointed to by a given FP.</dd><dt><a class="constant" href="constant.NEXT_OLDER_SP_FROM_FP_OFFSET.html" title="constant wasmtime_internal_unwinder::NEXT_OLDER_SP_FROM_FP_OFFSET">NEXT_<wbr>OLDER_<wbr>SP_<wbr>FROM_<wbr>FP_<wbr>OFFSET</a></dt><dd>The offset of the next older SP value, from the value of a
given FP.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.Unwind.html" title="trait wasmtime_internal_unwinder::Unwind">Unwind</a></dt><dd>Implementation necessary to unwind the stack, used by <code>Backtrace</code>.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.assert_fp_is_aligned.html" title="fn wasmtime_internal_unwinder::assert_fp_is_aligned">assert_<wbr>fp_<wbr>is_<wbr>aligned</a></dt><dd>Assert that the given <code>fp</code> is aligned as expected by the
host platform’s implementation of the Cranelift tail-call
ABI.
Frame pointers are aligned if they’re aligned to twice the size of a
pointer.</dd><dt><a class="fn" href="fn.compute_throw_action.html" title="fn wasmtime_internal_unwinder::compute_throw_action">compute_<wbr>throw_<wbr>action</a><sup title="unsafe function">⚠</sup></dt><dd>Implementation of stack-walking to find a handler.</dd><dt><a class="fn" href="fn.get_next_older_pc_from_fp.html" title="fn wasmtime_internal_unwinder::get_next_older_pc_from_fp">get_<wbr>next_<wbr>older_<wbr>pc_<wbr>from_<wbr>fp</a><sup title="unsafe function">⚠</sup></dt><dd>Get the return address in the function at the next-older
frame from the given FP.</dd><dt><a class="fn" href="fn.get_stack_pointer.html" title="fn wasmtime_internal_unwinder::get_stack_pointer">get_<wbr>stack_<wbr>pointer</a></dt><dd>Get the current stack pointer (at the time this function is
executing). This may be used to check, e.g., approximate space
remaining on a stack, but cannot be relied upon for anything exact
because the stack pointer from <em>within this function</em> is read and
the frame is later popped.</dd><dt><a class="fn" href="fn.resume_to_exception_handler.html" title="fn wasmtime_internal_unwinder::resume_to_exception_handler">resume_<wbr>to_<wbr>exception_<wbr>handler</a><sup title="unsafe function">⚠</sup></dt><dd>Resume execution at the given PC, SP, and FP, with the given
payload values, according to the tail-call ABI’s exception
scheme. Note that this scheme does not restore any other
registers, so the given state is all that we need.</dd><dt><a class="fn" href="fn.visit_frames.html" title="fn wasmtime_internal_unwinder::visit_frames">visit_<wbr>frames</a><sup title="unsafe function">⚠</sup></dt><dd>Walk through a contiguous sequence of Wasm frames starting with
the frame at the given PC and FP and ending at
<code>trampoline_fp</code>. This FP should correspond to that of a trampoline
that was used to enter the Wasm code.</dd></dl></section></div></main></body></html>